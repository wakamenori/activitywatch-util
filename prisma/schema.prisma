// READ-ONLY SCHEMA for ActivityWatch Database
// WARNING: This schema is for reading data only. DO NOT modify the ActivityWatch database!
// Any write operations could corrupt your ActivityWatch data.

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model bucketmodel {
  key        Int          @id @default(autoincrement())
  id         String       @unique(map: "bucketmodel_id")
  created    DateTime
  name       String?
  type       String
  client     String
  hostname   String
  datastr    String?
  eventmodel eventmodel[]
}

model eventmodel {
  id          Int         @id @default(autoincrement())
  bucket_id   Int
  timestamp   DateTime
  duration    Decimal
  datastr     String
  bucketmodel bucketmodel @relation(fields: [bucket_id], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@index([timestamp], map: "eventmodel_timestamp")
  @@index([bucket_id], map: "eventmodel_bucket_id")
}
